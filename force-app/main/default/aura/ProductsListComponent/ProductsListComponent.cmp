<aura:component
  controller="ProductController"
  implements="forceCommunity:availableForAllPageTypes"
  access="global"
>
  <aura:handler
    event="c:selectedCategoryUpdatedEvent"
    action="{!c.handleApplicationEvent}"
  />
  <aura:attribute name="selectedCategoryIdList" type="Id[]" />
  <aura:attribute name="page" type="Integer" default="1" />
  <aura:attribute name="pageLimit" type="Integer" default="3" />
  <aura:attribute name="arrButton" type="Integer[]" default="[1,2,3]" />

  <aura:handler name="init" action="{!c.doInit}" value="{!this}" />
  <aura:attribute name="products" type="myProduct__c[]" />
  <c:myHeader header="Products List" />
  <aura:if isTrue="{!v.selectedCategoryIdList[0]}">
    <div class="flex-row-space-between">
      <aura:if isTrue="{!v.arrButton[1]}">
        <span class="flex-row">
          <aura:iteration items="{!v.arrButton}" var="button">
            <span class="pagination-button">
              <lightning:button
                aura:id="page"
                variant="info"
                label="{!button}"
                title="{!button}"
                onclick="{! c.handleClick }"
              />
            </span>
          </aura:iteration>
        </span>
      </aura:if>
      <span class="flex-row">
        <lightning:button
          aura:id="pageLimit"
          variant="info"
          label="3"
          title="3"
          onclick="{! c.handleClick }"
        />
        <lightning:button
          aura:id="pageLimit"
          variant="info"
          label="4"
          title="4"
          onclick="{! c.handleClick }"
        />
        <lightning:button
          aura:id="pageLimit"
          variant="info"
          label="6"
          title="6"
          onclick="{! c.handleClick }"
        />
        <lightning:button
          aura:id="pageLimit"
          variant="info"
          label="12"
          title="12"
          onclick="{! c.handleClick }"
        />
      </span>
    </div>
  </aura:if>
  <c:ProductsList productList="{!v.products}" />
</aura:component>
